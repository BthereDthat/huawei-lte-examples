#:import C kivy.utils.get_color_from_hex

<CustomInput@TextInput>:
    font_size: '14dp'
    background_color: 0,0,0,0
    cursor_color: C('#ffffff')
    canvas.before:
        Color:
            rgba: C('#ffffff')
    canvas.after:
        Color:
            rgb: C('#0f192e')
        Ellipse:
            angle_start:180
            angle_end:360
            pos:(self.pos[0] - self.size[1]/2.0, self.pos[1])
            size: (self.size[1], self.size[1])
        Ellipse:
            angle_start:360
            angle_end:540
            pos: (self.size[0] + self.pos[0] - self.size[1]/2.0, self.pos[1])
            size: (self.size[1], self.size[1])
        Color:
            rgba: C('#3f92db')
        Line:
            points: self.pos[0] , self.pos[1], self.pos[0] + self.size[0], self.pos[1]
        Line:
            points: self.pos[0], self.pos[1] + self.size[1], self.pos[0] + self.size[0], self.pos[1] + self.size[1]
        Line:
            ellipse: self.pos[0] - self.size[1]/2.0, self.pos[1], self.size[1], self.size[1], 180, 360
        Line:
            ellipse: self.size[0] + self.pos[0] - self.size[1]/2.0, self.pos[1], self.size[1], self.size[1], 360, 540



LoginPage:
    name: "login_page"
    BoxLayout:
        orientation: 'vertical'
        Label
            text: "Welcome to LTE"
            size_hint: 1, .3
            background_normal: ''
            background_color: app.band_color_2
            font_size: app.large_size
            markup: True
        BoxLayout:
            size_hint: 1, .1
            padding: [0, 0, 0, 6]
            orientation: 'horizontal'
            Label
                text: "IP Address"
                size_hint: .5, 1
                font_size: app.normal_size
                markup: True
            BoxLayout:
                canvas.before:
                    Color:
                        rgba: C('#0f192e')
                    Rectangle:
                        pos: self.pos
                        size: self.size
                CustomInput:
                    id: ip
                    hint_text: '192.168.1.1'
                    text: '192.168.1.1'
                    padding: [0, 15, 0, 0]
                    font_size: app.normal_size
                    multiline: False
                    write_tab: False
        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, .1
            padding: [0, 6, 0, 6]
            Label
                text: "User"
                size_hint: .5, 1
                font_size: app.normal_size
                markup: True
            BoxLayout:
                canvas.before:
                    Color:
                        rgba: C('#0f192e')
                    Rectangle:
                        pos: self.pos
                        size: self.size
                CustomInput:
                    id: user
                    hint_text: 'admin'
                    padding: [0, 12, 0, 0]
                    font_size: app.normal_size
                    multiline: False
                    write_tab: False
        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, .1
            padding: [0, 6, 0, 0]
            Label
                text: "Password"
                size_hint: .5, 1
                font_size: app.normal_size
                markup: True
            BoxLayout:
                canvas.before:
                    Color:
                        rgba: C('#0f192e')
                    Rectangle:
                        pos: self.pos
                        size: self.size
                CustomInput:
                    id: passw
                    password: True
                    hint_text: 'Please type your password'
                    font_size: app.normal_size
                    padding: [0, 12, 0, 0]
                    #password_mask: 'a'
                    multiline: False
                    write_tab: False
        BoxLayout:
            padding: [0, 23, 0, 0]
            orientation: 'horizontal'
            size_hint: 1, .3
            Button:
                text: "About"
                size_hint: .5, 1
                font_size: '50sp'
                on_release:
                    pass
            Button:
                text: "Connect"
                font_size: '50sp'
                on_release:
                    root.verify_credentials()

<MonitorPage>:
    name: "monitor"
    title: "Monitoring"
    rsrq: rsrq
    rsrq_quality: rsrq_quality
    rsrp: rsrp
    rsrp_quality: rsrp_quality
    sinr: sinr
    sinr_quality: sinr_quality
    upload_band: upload_band
    upload_rate: upload_rate
    download_band: download_band
    download_rate: download_rate
    id: popup
    content: bl
    BoxLayout:
        id: bl
        orientation: 'vertical'
        BoxLayout:
            orientation: 'vertical'
            BoxLayout:
                orientation: 'horizontal'
                Label
                    text: "RSRQ"
                    font_size: app.normal_size
                    markup: True
                    size_hint: .3, 1
                Label
                    id: rsrq
                    text: "rsrq"
                    font_size: app.normal_size
                    markup: True
                Label
                    id: rsrq_quality
                    text: "rsrq_quality"
                    font_size: app.normal_size
                    markup: True
            BoxLayout:
                orientation: 'horizontal'
                Label
                    text: "RSRP"
                    font_size: app.normal_size
                    markup: True
                    size_hint: .3, 1
                Label
                    id: rsrp
                    text: "rsrp"
                    font_size: app.normal_size
                    markup: True
                Label
                    id: rsrp_quality
                    text: "rsrp_quality"
                    font_size: app.normal_size
                    markup: True
            BoxLayout:
                orientation: 'horizontal'
                Label
                    text: "RSRP"
                    font_size: app.normal_size
                    markup: True
                    size_hint: .3, 1
                Label
                    id: sinr
                    text: "sinr"
                    font_size: app.normal_size
                    markup: True
                Label
                    id: sinr_quality
                    text: "rsrp_quality"
                    font_size: app.normal_size
                    markup: True
            BoxLayout:
                orientation: 'horizontal'
                Label
                    text: "Download"
                    font_size: app.normal_size
                    markup: True
                    size_hint: .3, 1
                Label
                    id: download_rate
                    text: "Download Rate"
                    font_size: app.normal_size
                    markup: True
                Button
                    id: download_band
                    text: "Download Band"
                    font_size: app.normal_size
                    markup: True
                    background_normal: ''
                    background_color: app.band_color_1
                    on_release:
                        root.band_popup.open()
            BoxLayout:
                orientation: 'horizontal'
                Label
                    text: "Upload"
                    font_size: app.normal_size
                    markup: True
                    size_hint: .3, 1
                Label
                    id: upload_rate
                    text: "Upload Rate"
                    font_size: app.normal_size
                    markup: True
                Button
                    id: upload_band
                    text: "Upload Band"
                    font_size: app.normal_size
                    markup: True
                    background_normal: ''
                    background_color: app.band_color_1
                    on_release:
                        root.band_popup.open()
        BoxLayout:
            size_hint: 1, .2
            Button:
                text:"Refresh"
                font_size: app.normal_size
                on_release:
                    root.monitor(20)
            Button:
                size_hint: .5, 1
                text:"Customize Bands"
                font_size: app.normal_size
                on_release:
                    root.band_popup.open()

<BandPage>:
    name: "user"
    id: band_popup
    title: "Customize Upload/Download Bands"
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            post_hint: {'x': 0, 'top': 1}
            size_hint: 1, 10
            orientation: 'vertical'
            BoxLayout:
                canvas.before:
                    Color:
                        rgba: app.band_color_1
                    Rectangle:
                        pos: self.pos
                        size: self.size
                Label:
                    text: 'Upload'
                Label:
                    text: 'Download'
                Label:
                    text: 'Band'
            BoxLayout:
                canvas.before:
                    Color:
                        rgba: app.band_color_2
                    Rectangle:
                        pos: self.pos
                        size: self.size
                CheckBox:
                    group: 'ul'
                    id: b1_ul
                CheckBox:
                    id: b1
                Label:
                    text: app.bands_dict['b1']
            BoxLayout:
                canvas.before:
                    Color:
                        rgba: app.band_color_1
                    Rectangle:
                        pos: self.pos
                        size: self.size
                CheckBox:
                    group: 'ul'
                    id: b2_ul
                CheckBox:
                    id: b2
                Label:
                    text: app.bands_dict['b2']
            BoxLayout:
                canvas.before:
                    Color:
                        rgba: app.band_color_2
                    Rectangle:
                        pos: self.pos
                        size: self.size
                CheckBox:
                    group: 'ul'
                    id: b3_ul
                CheckBox:
                    id: b3
                Label:
                    text: app.bands_dict['b3']
            BoxLayout:
                canvas.before:
                    Color:
                        rgba: app.band_color_1
                    Rectangle:
                        pos: self.pos
                        size: self.size
                CheckBox:
                    group: 'ul'
                    id: b4_ul
                CheckBox:
                    id: b4
                Label:
                    text: app.bands_dict['b4']
            BoxLayout:
                canvas.before:
                    Color:
                        rgba: app.band_color_2
                    Rectangle:
                        pos: self.pos
                        size: self.size
                CheckBox:
                    group: 'ul'
                    id: b5_ul
                CheckBox:
                    id: b5
                Label:
                    text: app.bands_dict['b5']
            BoxLayout:
                canvas.before:
                    Color:
                        rgba: app.band_color_1
                    Rectangle:
                        pos: self.pos
                        size: self.size
                CheckBox:
                    group: 'ul'
                    id: b6_ul
                CheckBox:
                    id: b6
                Label:
                    text: app.bands_dict['b6']
            BoxLayout:
                canvas.before:
                    Color:
                        rgba: app.band_color_2
                    Rectangle:
                        pos: self.pos
                        size: self.size
                CheckBox:
                    group: 'ul'
                    id: b7_ul
                CheckBox:
                    id: b7
                Label:
                    text: app.bands_dict['b7']
            BoxLayout:
                canvas.before:
                    Color:
                        rgba: app.band_color_1
                    Rectangle:
                        pos: self.pos
                        size: self.size
                CheckBox:
                    group: 'ul'
                    id: b8_ul
                CheckBox:
                    id: b8
                Label:
                    text: app.bands_dict['b8']
            BoxLayout:
                canvas.before:
                    Color:
                        rgba: app.band_color_2
                    Rectangle:
                        pos: self.pos
                        size: self.size
                CheckBox:
                    group: 'ul'
                    id: b19_ul
                CheckBox:
                    id: b19
                Label:
                    text: app.bands_dict['b19']
            BoxLayout:
                canvas.before:
                    Color:
                        rgba: app.band_color_1
                    Rectangle:
                        pos: self.pos
                        size: self.size
                CheckBox:
                    group: 'ul'
                    id: b20_ul
                CheckBox:
                    id: b20
                Label:
                    text: app.bands_dict['b20']
            BoxLayout:
                canvas.before:
                    Color:
                        rgba: app.band_color_2
                    Rectangle:
                        pos: self.pos
                        size: self.size
                CheckBox:
                    group: 'ul'
                    id: b26_ul
                CheckBox:
                    id: b26
                Label:
                    text: app.bands_dict['b26']
            BoxLayout:
                canvas.before:
                    Color:
                        rgba: app.band_color_1
                    Rectangle:
                        pos: self.pos
                        size: self.size
                CheckBox:
                    group: 'ul'
                    id: b28_ul
                CheckBox:
                    id: b28
                Label:
                    text: app.bands_dict['b28']
            BoxLayout:
                canvas.before:
                    Color:
                        rgba: app.band_color_2
                    Rectangle:
                        pos: self.pos
                        size: self.size
                CheckBox:
                    group: 'ul'
                    id: b32_ul
                CheckBox:
                    id: b32
                Label:
                    text: app.bands_dict['b32']
            BoxLayout:
                canvas.before:
                    Color:
                        rgba: app.band_color_1
                    Rectangle:
                        pos: self.pos
                        size: self.size
                CheckBox:
                    group: 'ul'
                    id: b38_ul
                CheckBox:
                    id: b38
                Label:
                    text: app.bands_dict['b38']
            BoxLayout:
                canvas.before:
                    Color:
                        rgba: app.band_color_2
                    Rectangle:
                        pos: self.pos
                        size: self.size
                CheckBox:
                    group: 'ul'
                    id: b40_ul
                CheckBox:
                    id: b40
                Label:
                    text: app.bands_dict['b40']
            BoxLayout:
                canvas.before:
                    Color:
                        rgba: app.band_color_1
                    Rectangle:
                        pos: self.pos
                        size: self.size
                CheckBox:
                    group: 'ul'
                    id: b41_ul
                CheckBox:
                    id: b41
                Label:
                    text: app.bands_dict['b41']
        BoxLayout:
            Button:
                text: "Cancel"
                font_size: app.normal_size
                on_release:
                    band_popup.dismiss()
            Button:
                text: "OK"
                font_size: app.normal_size
                on_release:
                    root.configure_router()
                    band_popup.dismiss()
